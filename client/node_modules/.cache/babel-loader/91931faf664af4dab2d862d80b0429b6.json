{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\danfa\\\\Projects\\\\Main_CA\\\\src\\\\logintest\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\danfa\\\\Projects\\\\Main_CA\\\\src\\\\logintest\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\danfa\\\\Projects\\\\Main_CA\\\\src\\\\logintest\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\danfa\\\\Projects\\\\Main_CA\\\\src\\\\logintest\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\danfa\\\\Projects\\\\Main_CA\\\\src\\\\logintest\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\danfa\\\\Projects\\\\Main_CA\\\\src\\\\logintest\\\\client\\\\src\\\\components\\\\games\\\\DiceMatchmaking.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport diceLogo from \"../../images/dice.png\";\nimport io from \"socket.io-client\";\nimport $ from \"jquery\";\nimport PropTypes from \"prop-types\";\nimport Web3 from \"web3\";\nimport TruffleContract from \"truffle-contract\";\nimport artifact from \"../../utils/contractData.json\";\nvar socket = io.connect(\"http://localhost:5000\");\n\nvar Game =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Game, _Component);\n\n  function Game(props) {\n    var _this;\n\n    _classCallCheck(this, Game);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Game).call(this, props));\n\n    _this.getAccount = function (web3) {\n      return new Promise(function (resolve, reject) {\n        web3.eth.getAccounts(function (error, accounts) {\n          resolve(accounts[0]);\n        });\n      });\n    };\n\n    _this.onJoinClick = function (f) {\n      f.preventDefault();\n      var user = _this.props.auth.user;\n      var name = user.name;\n\n      _this.setState({\n        player2: name\n      });\n\n      socket.emit(\"joinGame\", {\n        name: name\n      });\n      socket.emit(\"sendPlayer2\", name);\n    };\n\n    _this.onCreateClick = function (f) {\n      f.preventDefault();\n\n      _this.displayBetInput();\n    };\n\n    _this.handleInputChange = function (e) {\n      _this.setState({\n        InputAmount: e.target.value\n      });\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var user = _this.props.auth.user;\n      var name = user.name;\n      var amountBet = _this.state.InputAmount;\n      socket.emit(\"createGame\", {\n        name: name,\n        amountBet: amountBet\n      });\n    };\n\n    _this.onViewClick = function (e) {\n      e.preventDefault();\n      socket.emit(\"viewLobby\");\n    };\n\n    _this.onRollClick = function (e) {\n      e.preventDefault();\n      $(\".dice\").css(\"display\", \"block\");\n      $(\"#rollButton\").css(\"display\", \"none\");\n      var senderId = _this.state.userid;\n      var destiny = _this.state.rolledNumber;\n      setTimeout(_this.showRoll, 5000, senderId, destiny);\n      $(\"#resultLoading\").css(\"display\", \"block\");\n    };\n\n    _this.state = {\n      player1: \"Finding Opponent...\",\n      player2: \"Finding Opponent...\",\n      userid: \"\",\n      isHost: \"False\",\n      web3Provider: null,\n      contracts: {},\n      addresser: {},\n      InputAmount: 0,\n      account: {},\n      rolledNumber: null\n    };\n    return _this;\n  }\n\n  _createClass(Game, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      //get web 3 initiate truffle contract set address\n      var web3 = window.web3;\n      web3 = new Web3(web3.currentProvider);\n      var abstraction = TruffleContract(artifact);\n      abstraction.setProvider(web3.currentProvider);\n      this.setState({\n        contracts: abstraction\n      });\n      var networks = Object.keys(artifact.networks);\n      var network = networks[networks.length - 1];\n      var address = artifact.networks[network].address;\n      this.setState({\n        addresser: address\n      });\n      return new Promise(function (resolve, reject) {\n        _this2.getAccount(web3).then(function (account) {\n          _this2.setState({\n            account: account\n          });\n\n          return abstraction.at(address);\n        }).then(function (abstraction) {\n          _this2.setState({\n            contracts: abstraction\n          });\n\n          resolve(abstraction);\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this3 = this;\n\n      //when both players have joined game\n      socket.on(\"gameReady\", function (data) {\n        _this3.setState({\n          player2: data.name\n        });\n\n        _this3.setState({\n          player1: data.names[data.id]\n        });\n\n        _this3.setState({\n          InputAmount: data.bets[data.id]\n        });\n\n        var message = \"\".concat(_this3.state.player1, \" vs \").concat(_this3.state.player2);\n\n        _this3.displayGame(message);\n\n        $(\"#confirmTransaction\").css(\"display\", \"block\");\n        var convertedBet = _this3.state.InputAmount * 1000000000000000000;\n\n        _this3.state.contracts.getNewbet(convertedBet, {\n          from: _this3.state.account,\n          gas: 1000000,\n          value: convertedBet\n        }).then(function (randomnumber) {\n          var destiny = randomnumber.logs[0].args.currentBet.toNumber();\n\n          _this3.setState({\n            rolledNumber: destiny\n          });\n\n          $(\".game\").css(\"display\", \"block\");\n          $(\"#confirmTransaction\").css(\"display\", \"none\");\n\n          _this3.setState({\n            userid: data.id\n          });\n        });\n      }); //when game is won\n\n      socket.on(\"gameWin\", function (data) {\n        console.log(\"I WON WOOHOO\");\n        $(\"#gameWaiting\").css(\"display\", \"none\");\n        var message = \"You Won! Congratulations!\";\n        $(\"#gameResult\").html(message);\n\n        _this3.state.contracts.distributeWinnings({\n          from: _this3.state.account,\n          gas: 1000000\n        });\n\n        $(\"#linkBack\").css(\"display\", \"block\");\n      });\n      socket.on(\"gameTie\", function (data) {\n        console.log(\"Tie\");\n        $(\"#gameWaiting\").css(\"display\", \"none\");\n        var message = \"Draw!\";\n        $(\"#gameResult\").html(message);\n\n        _this3.state.contracts.distributeTie({\n          from: _this3.state.account,\n          gas: 1000000\n        });\n\n        $(\"#linkBack\").css(\"display\", \"block\");\n      });\n      socket.on(\"gameLose\", function (data) {\n        console.log(\"Lose\");\n        $(\"#gameWaiting\").css(\"display\", \"none\");\n        var message = \"You lose. Better luck next time.\";\n        $(\"#gameResult\").html(message);\n        $(\"#linkBack\").css(\"display\", \"block\");\n      }); //when user clicks view lobby\n\n      socket.on(\"receiveLobby\", function (data) {\n        var userarray = data.names;\n        var betsarray = data.bets;\n        var x;\n        var table = document.getElementById(\"lobbyTable\");\n        var user = _this3.props.auth.user;\n        var name = user.name;\n\n        var _loop = function _loop() {\n          btn = document.createElement(\"input\");\n          btn.style = \"width:150px\";\n          btn.type = \"button\";\n          btn.name = x;\n          btn.id = x;\n          btn.value = \"Join\";\n\n          btn.onclick = function () {\n            testFunction(this.id);\n          };\n\n          function testFunction(id) {\n            socket.emit(\"joinGame\", {\n              name: name,\n              id: id\n            });\n            socket.emit(\"sendPlayer2\", name);\n          }\n\n          btn.className = \"btn btn-med waves-effect waves-light hoverable blue accent-3\";\n          row = table.insertRow(1);\n          cell1 = row.insertCell(0);\n          cell2 = row.insertCell(1);\n          cell3 = row.insertCell(2);\n          cell1.innerHTML = userarray[x];\n          cell2.innerHTML = betsarray[x];\n          cell3.appendChild(btn);\n        };\n\n        for (x = 0; x < userarray.length; x++) {\n          var btn;\n          var row;\n          var cell1;\n          var cell2;\n          var cell3;\n\n          _loop();\n        }\n\n        _this3.displayLobby();\n      }); //when user clicks create game\n\n      socket.on(\"newGame\", function (data) {\n        var message = \"Hello, \".concat(data.name, \".\\n       Searching for opponent...\");\n\n        _this3.setState({\n          player1: data.name\n        });\n\n        _this3.setState({\n          isHost: data.isHost\n        });\n\n        _this3.displayGame(message);\n      }); //when host leaves\n\n      var onLeave = function onLeave() {\n        if (_this3.state.isHost === \"true\") {\n          var id = _this3.state.userid;\n          socket.emit(\"leaveRoom\", {\n            id: id\n          });\n        }\n      };\n\n      window.onbeforeunload = onLeave;\n    }\n  }, {\n    key: \"displayLobby\",\n    value: function displayLobby() {\n      $(\"#content\").css(\"display\", \"none\");\n      $(\".lobby\").css(\"display\", \"block\");\n    }\n  }, {\n    key: \"displayGame\",\n    value: function displayGame(message) {\n      $(\".gameBoard\").css(\"display\", \"block\");\n      $(\"#content\").css(\"display\", \"none\");\n      $(\".lobby\").css(\"display\", \"none\");\n      $(\".betInput\").css(\"display\", \"none\");\n      $(\"#notification\").html(message);\n    }\n  }, {\n    key: \"displayBetInput\",\n    value: function displayBetInput() {\n      $(\"#content\").css(\"display\", \"none\");\n      $(\".betInput\").css(\"display\", \"block\");\n    }\n  }, {\n    key: \"showRoll\",\n    value: function showRoll(sender, score) {\n      $(\"#resultLoading\").css(\"display\", \"none\");\n      $(\"#scoreText\").css(\"display\", \"block\");\n      $(\"#gameResult\").css(\"display\", \"block\");\n      $(\"#gameWaiting\").css(\"display\", \"block\");\n      var senderId = sender;\n      var destiny = score;\n      socket.emit(\"sendScore\", {\n        score: destiny,\n        id: senderId\n      });\n    }\n  }, {\n    key: \"displayResult\",\n    value: function displayResult(message) {\n      $(\"#gameResult\").html(message);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          height: \"75vh\"\n        },\n        className: \"container valign-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col s12 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gameBoard\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        id: \"notification\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        id: \"confirmTransaction\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"Waiting for bet to be confirmed with MetaMask...\"), React.createElement(\"div\", {\n        className: \"game\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dice\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"face face-one\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"face face-two\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"face face-three\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"face face-four\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"face face-five\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"face face-six\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }))), React.createElement(\"button\", {\n        id: \"rollButton\",\n        style: {\n          width: \"150px\",\n          borderRadius: \"3px\",\n          letterSpacing: \"1.5px\"\n        },\n        type: \"submit\",\n        onClick: this.onRollClick,\n        className: \"btn btn-large waves-effect waves-light hoverable blue accent-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, \"Roll!\"), React.createElement(\"p\", {\n        id: \"resultLoading\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, \"Rolling dice... Good luck!\"), React.createElement(\"p\", {\n        id: \"scoreText\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, \"You rolled a \", this.state.rolledNumber), React.createElement(\"p\", {\n        id: \"gameWaiting\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, \"Waiting for opponent to roll...\"), React.createElement(\"p\", {\n        id: \"gameResult\",\n        style: {\n          display: \"none \"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"linkBack\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/dashboard\",\n        className: \"btn-flat waves-effect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"keyboard_backspace\"), \" \", \"Back to Dashboard\")))), React.createElement(\"div\", {\n        className: \"lobby\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"center\",\n        id: \"lobbyTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }, \"Amount Bet (Eth)\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"betInput\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        id: \"betText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, \"Enter amount to bet in Ether\"), React.createElement(\"form\", {\n        noValidate: true,\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-field col s12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.handleInputChange,\n        style: {\n          width: \"40%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col s12\",\n        style: {\n          paddingLeft: \"11.250px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          width: \"150px\",\n          borderRadius: \"3px\",\n          letterSpacing: \"1.5px\",\n          marginTop: \"1rem\"\n        },\n        type: \"submit\",\n        className: \"btn btn-large waves-effect waves-light hoverable blue accent-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, \"Place Bet\"))))), React.createElement(\"div\", {\n        id: \"content\",\n        style: {\n          textAlign: \"center\"\n        },\n        className: \"col s12 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          textAlign: \"left\",\n          marginTop: \"-7%\"\n        },\n        className: \"col s12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/games\",\n        className: \"btn-flat waves-effect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, \"keyboard_backspace\"), \" Back\")), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }, \"Dice\")), React.createElement(\"div\", {\n        className: \"col s12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: diceLogo,\n        alt: \"Logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col s6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          width: \"150px\",\n          borderRadius: \"3px\",\n          letterSpacing: \"1.5px\",\n          marginTop: \"1rem\"\n        },\n        onClick: this.onCreateClick,\n        className: \"btn btn-large waves-effect waves-light hoverable blue accent-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }, \"Create Game\")), React.createElement(\"div\", {\n        className: \"col s6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          width: \"150px\",\n          borderRadius: \"3px\",\n          letterSpacing: \"1.5px\",\n          marginTop: \"1rem\"\n        },\n        onClick: this.onViewClick,\n        className: \"btn btn-large waves-effect waves-light hoverable blue accent-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, \"View Games\")))), React.createElement(\"p\", {\n        id: \"notification\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Game;\n}(Component);\n\nGame.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps)(Game);","map":{"version":3,"sources":["C:\\Users\\danfa\\Projects\\Main_CA\\src\\logintest\\client\\src\\components\\games\\DiceMatchmaking.js"],"names":["React","Component","Link","connect","diceLogo","io","$","PropTypes","Web3","TruffleContract","artifact","socket","Game","props","getAccount","web3","Promise","resolve","reject","eth","getAccounts","error","accounts","onJoinClick","f","preventDefault","user","auth","name","setState","player2","emit","onCreateClick","displayBetInput","handleInputChange","e","InputAmount","target","value","onSubmit","amountBet","state","onViewClick","onRollClick","css","senderId","userid","destiny","rolledNumber","setTimeout","showRoll","player1","isHost","web3Provider","contracts","addresser","account","window","currentProvider","abstraction","setProvider","networks","Object","keys","network","length","address","then","at","catch","on","data","names","id","bets","message","displayGame","convertedBet","getNewbet","from","gas","randomnumber","logs","args","currentBet","toNumber","console","log","html","distributeWinnings","distributeTie","userarray","betsarray","x","table","document","getElementById","btn","createElement","style","type","onclick","testFunction","className","row","insertRow","cell1","insertCell","cell2","cell3","innerHTML","appendChild","displayLobby","onLeave","onbeforeunload","sender","score","height","display","width","borderRadius","letterSpacing","paddingLeft","marginTop","textAlign","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport diceLogo from \"../../images/dice.png\";\r\nimport io from \"socket.io-client\";\r\nimport $ from \"jquery\";\r\nimport PropTypes from \"prop-types\";\r\nimport Web3 from \"web3\";\r\nimport TruffleContract from \"truffle-contract\";\r\nimport artifact from \"../../utils/contractData.json\";\r\n\r\nconst socket = io.connect(\"http://localhost:5000\");\r\n\r\nclass Game extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      player1: \"Finding Opponent...\",\r\n      player2: \"Finding Opponent...\",\r\n      userid: \"\",\r\n      isHost: \"False\",\r\n      web3Provider: null,\r\n      contracts: {},\r\n      addresser: {},\r\n      InputAmount: 0,\r\n      account: {},\r\n      rolledNumber: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    //get web 3 initiate truffle contract set address\r\n    let web3 = window.web3;\r\n    web3 = new Web3(web3.currentProvider);\r\n    let abstraction = TruffleContract(artifact);\r\n    abstraction.setProvider(web3.currentProvider);\r\n    this.setState({ contracts: abstraction });\r\n\r\n    const networks = Object.keys(artifact.networks);\r\n    const network = networks[networks.length - 1];\r\n    const address = artifact.networks[network].address;\r\n    this.setState({ addresser: address });\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.getAccount(web3)\r\n        .then(account => {\r\n          this.setState({ account: account });\r\n          return abstraction.at(address);\r\n        })\r\n        .then(abstraction => {\r\n          this.setState({ contracts: abstraction });\r\n          resolve(abstraction);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  }\r\n\r\n  componentWillMount() {\r\n    //when both players have joined game\r\n    socket.on(\"gameReady\", data => {\r\n      this.setState({ player2: data.name });\r\n      this.setState({ player1: data.names[data.id] });\r\n      this.setState({ InputAmount: data.bets[data.id] });\r\n      const message = `${this.state.player1} vs ${this.state.player2}`;\r\n      this.displayGame(message);\r\n      $(\"#confirmTransaction\").css(\"display\", \"block\");\r\n      let convertedBet = this.state.InputAmount * 1000000000000000000;\r\n\r\n      this.state.contracts\r\n        .getNewbet(convertedBet, {\r\n          from: this.state.account,\r\n          gas: 1000000,\r\n          value: convertedBet\r\n        })\r\n        .then(randomnumber => {\r\n          let destiny = randomnumber.logs[0].args.currentBet.toNumber();\r\n          this.setState({ rolledNumber: destiny });\r\n          $(\".game\").css(\"display\", \"block\");\r\n          $(\"#confirmTransaction\").css(\"display\", \"none\");\r\n          this.setState({ userid: data.id });\r\n        });\r\n    });\r\n\r\n    //when game is won\r\n    socket.on(\"gameWin\", data => {\r\n      console.log(\"I WON WOOHOO\");\r\n      $(\"#gameWaiting\").css(\"display\", \"none\");\r\n      const message = `You Won! Congratulations!`;\r\n      $(\"#gameResult\").html(message);\r\n\r\n      this.state.contracts.distributeWinnings({\r\n        from: this.state.account,\r\n        gas: 1000000\r\n      });\r\n      $(\"#linkBack\").css(\"display\", \"block\");\r\n    });\r\n\r\n    socket.on(\"gameTie\", data => {\r\n      console.log(\"Tie\");\r\n      $(\"#gameWaiting\").css(\"display\", \"none\");\r\n      const message = `Draw!`;\r\n      $(\"#gameResult\").html(message);\r\n\r\n      this.state.contracts.distributeTie({\r\n        from: this.state.account,\r\n        gas: 1000000\r\n      });\r\n      $(\"#linkBack\").css(\"display\", \"block\");\r\n    });\r\n\r\n    socket.on(\"gameLose\", data => {\r\n      console.log(\"Lose\");\r\n      $(\"#gameWaiting\").css(\"display\", \"none\");\r\n      const message = `You lose. Better luck next time.`;\r\n      $(\"#gameResult\").html(message);\r\n      $(\"#linkBack\").css(\"display\", \"block\");\r\n    });\r\n\r\n    //when user clicks view lobby\r\n    socket.on(\"receiveLobby\", data => {\r\n      let userarray = data.names;\r\n      let betsarray = data.bets;\r\n      let x;\r\n      let table = document.getElementById(\"lobbyTable\");\r\n\r\n      const { user } = this.props.auth;\r\n      const name = user.name;\r\n\r\n      for (x = 0; x < userarray.length; x++) {\r\n        var btn = document.createElement(\"input\");\r\n        btn.style = \"width:150px\";\r\n        btn.type = \"button\";\r\n        btn.name = x;\r\n        btn.id = x;\r\n        btn.value = \"Join\";\r\n        btn.onclick = function() {\r\n          testFunction(this.id);\r\n        };\r\n        function testFunction(id) {\r\n          socket.emit(\"joinGame\", { name, id });\r\n          socket.emit(\"sendPlayer2\", name);\r\n        }\r\n\r\n        btn.className =\r\n          \"btn btn-med waves-effect waves-light hoverable blue accent-3\";\r\n        var row = table.insertRow(1);\r\n        var cell1 = row.insertCell(0);\r\n        var cell2 = row.insertCell(1);\r\n        var cell3 = row.insertCell(2);\r\n        cell1.innerHTML = userarray[x];\r\n        cell2.innerHTML = betsarray[x];\r\n        cell3.appendChild(btn);\r\n      }\r\n\r\n      this.displayLobby();\r\n    });\r\n\r\n    //when user clicks create game\r\n    socket.on(\"newGame\", data => {\r\n      const message = `Hello, ${data.name}.\r\n       Searching for opponent...`;\r\n      this.setState({ player1: data.name });\r\n      this.setState({ isHost: data.isHost });\r\n      this.displayGame(message);\r\n    });\r\n\r\n    //when host leaves\r\n    let onLeave = () => {\r\n      if (this.state.isHost === \"true\") {\r\n        let id = this.state.userid;\r\n        socket.emit(\"leaveRoom\", { id });\r\n      }\r\n    };\r\n\r\n    window.onbeforeunload = onLeave;\r\n  }\r\n\r\n  displayLobby() {\r\n    $(\"#content\").css(\"display\", \"none\");\r\n    $(\".lobby\").css(\"display\", \"block\");\r\n  }\r\n\r\n  displayGame(message) {\r\n    $(\".gameBoard\").css(\"display\", \"block\");\r\n    $(\"#content\").css(\"display\", \"none\");\r\n    $(\".lobby\").css(\"display\", \"none\");\r\n    $(\".betInput\").css(\"display\", \"none\");\r\n    $(\"#notification\").html(message);\r\n  }\r\n\r\n  displayBetInput() {\r\n    $(\"#content\").css(\"display\", \"none\");\r\n    $(\".betInput\").css(\"display\", \"block\");\r\n  }\r\n\r\n  showRoll(sender, score) {\r\n    $(\"#resultLoading\").css(\"display\", \"none\");\r\n    $(\"#scoreText\").css(\"display\", \"block\");\r\n    $(\"#gameResult\").css(\"display\", \"block\");\r\n    $(\"#gameWaiting\").css(\"display\", \"block\");\r\n    let senderId = sender;\r\n    let destiny = score;\r\n    socket.emit(\"sendScore\", { score: destiny, id: senderId });\r\n  }\r\n\r\n  displayResult(message) {\r\n    $(\"#gameResult\").html(message);\r\n  }\r\n\r\n  getAccount = web3 => {\r\n    return new Promise((resolve, reject) => {\r\n      web3.eth.getAccounts((error, accounts) => {\r\n        resolve(accounts[0]);\r\n      });\r\n    });\r\n  };\r\n\r\n  onJoinClick = f => {\r\n    f.preventDefault();\r\n    const { user } = this.props.auth;\r\n    const name = user.name;\r\n    this.setState({ player2: name });\r\n    socket.emit(\"joinGame\", { name });\r\n    socket.emit(\"sendPlayer2\", name);\r\n  };\r\n\r\n  onCreateClick = f => {\r\n    f.preventDefault();\r\n    this.displayBetInput();\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({ InputAmount: e.target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { user } = this.props.auth;\r\n    const name = user.name;\r\n    const amountBet = this.state.InputAmount;\r\n    socket.emit(\"createGame\", { name, amountBet });\r\n  };\r\n\r\n  onViewClick = e => {\r\n    e.preventDefault();\r\n    socket.emit(\"viewLobby\");\r\n  };\r\n\r\n  onRollClick = e => {\r\n    e.preventDefault();\r\n    $(\".dice\").css(\"display\", \"block\");\r\n    $(\"#rollButton\").css(\"display\", \"none\");\r\n    let senderId = this.state.userid;\r\n    let destiny = this.state.rolledNumber;\r\n    setTimeout(this.showRoll, 5000, senderId, destiny);\r\n    $(\"#resultLoading\").css(\"display\", \"block\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ height: \"75vh\" }} className=\"container valign-wrapper\">\r\n        <div className=\"row\">\r\n          <div className=\"col s12 \">\r\n            <div className=\"gameBoard\" style={{ display: \"none\" }}>\r\n              <h1 id=\"notification\" />\r\n              <h3 id=\"confirmTransaction\" style={{ display: \"none\" }}>\r\n                Waiting for bet to be confirmed with MetaMask...\r\n              </h3>\r\n              <div className=\"game\" style={{ display: \"none\" }}>\r\n                <div className=\"dice\">\r\n                  <div className=\"face face-one\">\r\n                    <div className=\"dot\" />\r\n                  </div>\r\n                  <div className=\"face face-two\">\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                  </div>\r\n                  <div className=\"face face-three\">\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                  </div>\r\n                  <div className=\"face face-four\">\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                  </div>\r\n                  <div className=\"face face-five\">\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                  </div>\r\n                  <div className=\"face face-six\">\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                    <div className=\"dot\" />\r\n                  </div>\r\n                </div>\r\n\r\n                <button\r\n                  id=\"rollButton\"\r\n                  style={{\r\n                    width: \"150px\",\r\n                    borderRadius: \"3px\",\r\n                    letterSpacing: \"1.5px\"\r\n                  }}\r\n                  type=\"submit\"\r\n                  onClick={this.onRollClick}\r\n                  className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\"\r\n                >\r\n                  Roll!\r\n                </button>\r\n                <p id=\"resultLoading\" style={{ display: \"none\" }}>\r\n                  Rolling dice... Good luck!\r\n                </p>\r\n                <p id=\"scoreText\" style={{ display: \"none\" }}>\r\n                  You rolled a {this.state.rolledNumber}\r\n                </p>\r\n                <p id=\"gameWaiting\" style={{ display: \"none\" }}>\r\n                  Waiting for opponent to roll...\r\n                </p>\r\n                <p id=\"gameResult\" style={{ display: \"none \" }} />\r\n                <div id=\"linkBack\" style={{ display: \"none\" }}>\r\n                  <Link to=\"/dashboard\" className=\"btn-flat waves-effect\">\r\n                    <i className=\"material-icons left\">keyboard_backspace</i>{\" \"}\r\n                    Back to Dashboard\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"lobby\" style={{ display: \"none\" }}>\r\n              <table className=\"center\" id=\"lobbyTable\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th>Username</th>\r\n                    <th>Amount Bet (Eth)</th>\r\n                    <th />\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"betInput\" style={{ display: \"none\" }}>\r\n              <p id=\"betText\">Enter amount to bet in Ether</p>\r\n              <form noValidate onSubmit={this.onSubmit}>\r\n                <div className=\"input-field col s12\">\r\n                  <input\r\n                    onChange={this.handleInputChange}\r\n                    style={{ width: \"40%\" }}\r\n                  />\r\n                </div>\r\n                <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\r\n                  <button\r\n                    style={{\r\n                      width: \"150px\",\r\n                      borderRadius: \"3px\",\r\n                      letterSpacing: \"1.5px\",\r\n                      marginTop: \"1rem\"\r\n                    }}\r\n                    type=\"submit\"\r\n                    className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\"\r\n                  >\r\n                    Place Bet\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"content\"\r\n            style={{ textAlign: \"center\" }}\r\n            className=\"col s12 \"\r\n          >\r\n            <div\r\n              style={{ textAlign: \"left\", marginTop: \"-7%\" }}\r\n              className=\"col s12\"\r\n            >\r\n              <Link to=\"/games\" className=\"btn-flat waves-effect\">\r\n                <i className=\"material-icons left\">keyboard_backspace</i> Back\r\n              </Link>\r\n            </div>\r\n            <h4>\r\n              <b>Dice</b>\r\n            </h4>\r\n            <div className=\"col s12\">\r\n              <div style={{ width: \"100%\" }}>\r\n                <img src={diceLogo} alt=\"Logo\" />\r\n              </div>\r\n              <div className=\"col s6\">\r\n                <button\r\n                  style={{\r\n                    width: \"150px\",\r\n                    borderRadius: \"3px\",\r\n                    letterSpacing: \"1.5px\",\r\n                    marginTop: \"1rem\"\r\n                  }}\r\n                  onClick={this.onCreateClick}\r\n                  className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\"\r\n                >\r\n                  Create Game\r\n                </button>\r\n              </div>\r\n              <div className=\"col s6\">\r\n                <button\r\n                  style={{\r\n                    width: \"150px\",\r\n                    borderRadius: \"3px\",\r\n                    letterSpacing: \"1.5px\",\r\n                    marginTop: \"1rem\"\r\n                  }}\r\n                  onClick={this.onViewClick}\r\n                  className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\"\r\n                >\r\n                  View Games\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <p id=\"notification\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nGame.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(Game);\r\n"]},"metadata":{},"sourceType":"module"}